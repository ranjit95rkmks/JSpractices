<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="css/milligram.css">

</head>

<body>
    <form id="myForm">
        <input type="text" id="name" placeholder="Name">
        <span id="nameError" class="error"></span>
        <br>

        <input type="email" id="email" placeholder="Email">
        <span id="emailError" class="error"></span>
        <br>

        <input type="password" id="password" placeholder="Password">
        <span id="passwordError" class="error"></span>
        <br>

        <input type="submit" value="Submit">
    </form>

    <script>
        function validateForm(event) {
            event.preventDefault(); // Prevent form submission

            // Access form elements
            const nameInput = document.getElementById('name');
            const emailInput = document.getElementById('email');
            const passwordInput = document.getElementById('password');

            // Reset error messages
            const nameError = document.getElementById('nameError');
            const emailError = document.getElementById('emailError');
            const passwordError = document.getElementById('passwordError');
            nameError.innerHTML = '';
            emailError.innerHTML = '';
            passwordError.innerHTML = '';

            // Validation logic
            if (nameInput.value === '') {
                nameError.innerHTML = 'Name is required.';
            }

            if (emailInput.value === '') {
                emailError.innerHTML = 'Email is required.';
            } else if (!isValidEmail(emailInput.value)) {
                emailError.innerHTML = 'Invalid email format.';
            }

            if (passwordInput.value === '') {
                passwordError.innerHTML = 'Password is required.';
            } else if (passwordInput.value.length < 8) {
                passwordError.innerHTML = 'Password must be at least 8 characters long.';
            }

            // If no errors, submit the form
            if (nameError.innerHTML === '' && emailError.innerHTML === '' && passwordError.innerHTML === '') {
                event.target.submit();
            }
        }

        function isValidEmail(email) {
            // Email validation logic using regular expression
            const emailRegex = /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;
            return emailRegex.test(email);
        }

        // Attach event listener to the form submission event
        document.getElementById('myForm').addEventListener('submit', validateForm);
    </script>
</body>

</html>